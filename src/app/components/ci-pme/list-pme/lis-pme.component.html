<div class="mx-2 px-4 parent">
  <div class="card p-4 animate__animated animate__backInUp" style="border-radius: 10px">
    <div class="card-body">
      <div class="card-title py-1">
        <h3>Liste des entreprises</h3>
      </div>

      <div class="row">
        <div class="col-lg-3">
          <div class="left-sidebar">
            <div class="accordion" id="accordionExample">
              <div class="card mt-4">
                <a data-toggle="collapse" href="#collapsethree" class="job-list" aria-expanded="true" aria-controls="collapsethree">
                  <div class="card-header" id="headingthree">
                    <h6 class="mb-0 text-dark f-18">Secteurs d'activités</h6>
                  </div>
                </a>
                <div id="collapsethree" class="collapse show" aria-labelledby="headingthree">
                  <div class="card-body p-0">
                    <select class="form-control custom-select px-4 py-2" size="{{listSecteur.length + 1}}" (change)="filterPme($event)">
                      <option value="0">Tout</option>
                      <option class="text-wrap" *ngFor="let r of listSecteur; let index = index" [value]="r.id">
                        {{r.libelle}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-9">
          <div class="row">
            <div class="col-lg-4 col-md-6" *ngFor="let pme of pageSlice">
              <div class="list-grid-item mt-4">
                <div class="grid-item-content p-2">
                  <div class="employers-list-img mt-3">
                    <img *ngIf="pme.logo == ''" src="assets/img/office-building(1).png" alt="logo" class="img-fluid mx-auto d-block ">
                    <img *ngIf="pme.logo != ''" [src]="pme.logo" alt="logo" class="img-fluid mx-auto d-block ">
                  </div>
                  <div class="grid-list-desc text-center mt-4" style="cursor: pointer">
                    <h5 class="mb-1">{{pme.pme.raisonSociale}} {{pme.pme.id}}</h5>
                    <p class="text-muted f-10 mb-0 small">Statut de la demande: {{pme.pme.demandeNonCloturee.libelleStatut}}</p>
                    <p class="text-muted f-14 mb-0"><span class="iconify" data-icon="el:map-marker"></span> {{pme.pme.adresse}}</p>
                    <ul class="employers-icons list-inline mb-1" *ngIf="pme.pme.demandeNonCloturee.scoreFinal == 0">
                        <li class="list-inline-item"><a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a></li>
                        <li class="list-inline-item"><a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a></li>
                        <li class="list-inline-item"><a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a></li>
                        <li class="list-inline-item"><a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a></li>
                        <li class="list-inline-item"><a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a></li>
                    </ul>

                    <ul class="employers-icons list-inline mb-1" *ngIf="pme.pme.demandeNonCloturee.scoreFinal != 0">
                      <li *ngFor="let in of counter(pme.pme.demandeNonCloturee.scoreFinal)" class="list-inline-item">
                        <a href="#" class="text-warning"><i class="fas fa-star f-19"></i></a>
                      </li>

                      <li *ngFor="let in of counter(5 - parseToInt(pme.pme.demandeNonCloturee.scoreFinal))" class="list-inline-item">
                        <a href="#" class="text-black-50"><i class="fas fa-star f-19"></i></a>
                      </li>
                    </ul>

                    <span class="badge badge-warning text-white">{{pme.pme.annee}}</span>
                  </div>
                </div>
                <hr class="mt-0 mb-0">
                <div class="apply-button text-center mt-2 mb-2">
                  <a (click)="gotoDetails(pme.pme.id)" class="btn btn-custom btn-sm">Détails</a>
                </div>
              </div>
            </div>

            <p class="mt-4" *ngIf="listPme.length == 0">La liste des entreprises est vide !</p>
          </div>
        </div>
      </div>
    </div>

    <mat-paginator *ngIf="listPme.length != 0" [length]="listPme.length" [pageSize]="5"
                   [pageSizeOptions]="[5, 10, 20, 50]" (page)="handlePageChange($event)">
    </mat-paginator>

  </div>
</div>
